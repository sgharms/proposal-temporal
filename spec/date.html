<!doctype html>
<meta charset="utf8">

<emu-clause id="sec-temporal-date">
  <h1>Temporal.Date Objects</h1>
  <p>A Temporal.Date object is an immutable Object that contains Number values corresponding to a particular year, month,
    and day.</p>

  <emu-clause id="sec-temporal-date-constructor">
    <h1>The Temporal.Date Constructor</h1>
    <p>The Temporal.Date constructor is the %Temporal.Date% intrinsic object. When called as a constructor, it creates and
      initializes a new Temporal.Date object.</p>
    <p>
      The Temporal.Date constructor is designed to be subclassable.
      It may be used as the value of an extends clause of a class definition.
      Subclass constructors that intend to inherit the specified Date behaviour must include a super call to the %Temporal.Date% constructor to create and initialize subclass instances with the necessary internal slots.</p>

    <emu-clause id="sec-temporal.date">
      <h1>Temporal.Date ( _year_, _month_, _day_ )</h1>
      <p>
        When the `Temporal.Date` function is called, the following steps are taken:
      </p>
      <emu-alg>
        1. If NewTarget is *undefined*, then
          1. Throw a *TypeError* exception.
        1. Let _y_ be ? ToInteger(_year_).
        1. Let _m_ be ? ToInteger(_month_).
        1. Let _d_ be ? ToInteger(_day_).
        1. Return ? CreateTemporalDate(_y_, _m_, _d_, NewTarget).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-date-constructor">
    <h1>Properties of the Temporal.Date Constructor</h1>
    <p>The value of the [[Prototype]] internal slot of the Temporal.Date constructor is the intrinsic object
      %FunctionPrototype%.</p>
    <p>The Temporal.Date constructor has the following properties:</p>

    <emu-clause id="sec-temporal-date-prototype">
      <h1>Temporal.Date.prototype</h1>
      <p>The initial value of Temporal.Date.prototype is %Temporal.Date.prototype%.</p>
      <p>This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *false* }.</p>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date-@@species">
      <h1>get Temporal.Date [ @@species ]</h1>
      <p>
        `Temporal.Date[@@species]` is an accessor property whose set accessor function is *undefined*.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Return the *this* value.
      </emu-alg>

      <p>The value of the *"name"* property of this function is *"get [Symbol.species]"*.</p>
    </emu-clause>

    <emu-clause id="sec-temporal.date.from">
      <h1>Temporal.Date.from ( _item_ [ , _options_ ] )</h1>
      <p>
        The `from` method takes two arguments, _item_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _disambiguation_ be ? ToTemporalDisambiguation(_options_).
        1. If Type(_item_) is Object, then
          1. Let _result_ be ? ToTemporalDateRecord(_item_).
        1. Else,
          1. Let _string_ be ? ToString(_item_).
          1. Let _result_ be ? ParseTemporalDateString(_string_).
        1. Let _constructor_ be the *this* value.
        1. Set _result_ to ? RegulateDate(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]], _disambiguation_).
        1. Return ? CreateTemporalDateFromStatic(_constructor_, _result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.compare">
      <h1>Temporal.Date.compare ( _one_, _two_ )</h1>
      <p>
        The `compare` method takes two arguments, _one_ and _two_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Perform ? RequireInternalSlot(_one_, [[InitializedTemporalDate]]).
        1. Perform ? RequireInternalSlot(_two_, [[InitializedTemporalDate]]).
        1. Return ! CompareTemporalDate(_one_, _two_).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-date-prototype-object">
    <h1>Properties of the Temporal.Date Prototype Object</h1>

    <p>The Temporal.Date prototype object</p>
    <ul>
      <li>is the intrinsic object %Temporal.Date.prototype%.
      <li>is itself an ordinary object.
      <li>is not a Temporal.Date instance and does not have a [[InitializedTemporalDate]] internal slot.
      <li>has a [[Prototype]] internal slot whose value is %Object.prototype%.
    </ul>

    <emu-clause id="sec-temporal.date.prototype.constructor">
      <h1>Temporal.Date.prototype.constructor</h1>
      <p>The initial value of Temporal.Date.prototype.constructor is %Temporal.Date%.</p>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype-@@tostringtag">
      <h1>Temporal.Date.prototype[ @@toStringTag ]</h1>
      <p>
        The initial value of the @@toStringTag property is the string value `"Temporal.Date"`.
      </p>
      <p>
        This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *true* }.
      </p>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.year">
      <h1>get Temporal.Date.prototype.year</h1>
      <p>
        `Temporal.Date.prototype.year` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return _temporalDate_.[[Year]].
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.month">
      <h1>get Temporal.Date.prototype.month</h1>
      <p>
        `Temporal.Date.prototype.month` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return _temporalDate_.[[Month]].
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.day">
      <h1>get Temporal.Date.prototype.day</h1>
      <p>
        `Temporal.Date.prototype.day` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return _temporalDate_.[[Day]].
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.dayofweek">
      <h1>get Temporal.Date.prototype.dayOfWeek</h1>
      <p>
        `Temporal.Date.prototype.dayOfWeek` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! ToDayOfWeek(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.dayofyear">
      <h1>get Temporal.Date.prototype.dayOfYear</h1>
      <p>
        `Temporal.Date.prototype.dayOfYear` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! ToDayOfYear(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.weekofyear">
      <h1>get Temporal.Date.prototype.weekOfYear</h1>
      <p>
        `Temporal.Date.prototype.weekOfYear` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! ToWeekOfYear(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.daysinyear">
      <h1>get Temporal.Date.prototype.daysInYear</h1>
      <p>
        `Temporal.Date.prototype.daysInYear` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! DaysInYear(_temporalDate_.[[Year]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.daysinmonth">
      <h1>get Temporal.Date.prototype.daysInMonth</h1>
      <p>
        `Temporal.Date.prototype.daysInMonth` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! DaysInMonth(_temporalDate_.[[Year]], _temporalDate_.[[Month]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.date.prototype.isleapyear">
      <h1>get Temporal.Date.prototype.isLeapYear</h1>
      <p>
        `Temporal.Date.prototype.isLeapYear` is an accessor property whose set accessor function is undefined.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! IsLeapYear(_temporalDate_.[[Year]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.getyearmonth">
      <h1>Temporal.Date.prototype.getYearMonth ( )</h1>
      <p>
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ? CreateTemporalYearMonth(_temporalDate_.[[Year]], _temporalDate_.[[Month]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.getmonthday">
      <h1>Temporal.Date.prototype.getMonthDay ( )</h1>
      <p>
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ? CreateTemporalMonthDay(_temporalDate_.[[Month]], _temporalDate_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.plus">
      <h1>Temporal.Date.prototype.plus ( _temporalDurationLike_ [ , _options_ ] )</h1>
      <p>
        The `plus` method takes two arguments, _temporalDurationLike_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Let _duration_ be ? ToLimitedTemporalDuration(_temporalDurationLike_, « »).
        1. Let _balanceResult_ be ? BalanceDuration(_duration_.[[Days]], _duration_.[[Hours]], _duration_.[[Minutes]], _duration_.[[Seconds]], _duration_.[[Milliseconds]], _duration_.[[Microseconds]], _duration_.[[Nanoseconds]], *"days"*).
        1. Let _disambiguation_ be ? ToArithmeticTemporalDisambiguation(_options_).
        1. Let _result_ be ? AddDate(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]], _duration_.[[Years]], _duration_.[[Months]], _balanceResult_.[[Days]], _disambiguation_).
        1. Assert: ! ValidateDate(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]]) is *true*.
        1. Return ? CreateTemporalDateFromInstance(_temporalDate_, _result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.minus">
      <h1>Temporal.Date.prototype.minus ( _temporalDurationLike_ [ , _options_ ] )</h1>
      <p>
        The `minus` method takes two arguments, _temporalDurationLike_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Let _duration_ be ? ToLimitedTemporalDuration(_temporalDurationLike_, « »).
        1. Let _balanceResult_ be ? BalanceDuration(_duration_.[[Days]], _duration_.[[Hours]], _duration_.[[Minutes]], _duration_.[[Seconds]], _duration_.[[Milliseconds]], _duration_.[[Microseconds]], _duration_.[[Nanoseconds]], *"days"*).
        1. Let _disambiguation_ be ? ToArithmeticTemporalDisambiguation(_options_).
        1. Let _result_ be ? SubtractDate(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]], _duration_.[[Years]], _duration_.[[Months]], _balanceResult_.[[Days]], _disambiguation_).
        1. Assert: ! ValidateDate(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]]) is *true*.
        1. Return ? CreateTemporalDateFromInstance(_temporalDate_, _result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.with">
      <h1>Temporal.Date.prototype.with ( _temporalDateLike_ [ , _options_ ] )</h1>
      <p>
        The `with` method takes two arguments, _temporalDateLike_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Let _partialDate_ be ? ToPartialDate(_temporalDateLike_).
        1. Let _disambiguation_ be ? ToTemporalDisambiguation(_options_).
        1. If _partialDate_.[[Year]] is not *undefined*, then
          1. Let _y_ be _partialDate_.[[Year]].
        1. Else
          1. Let _y_ be _temporalDate_.[[Year]].
        1. If _partialDate_.[[Month]] is not *undefined*, then
          1. Let _m_ be _partialDate_.[[Month]].
        1. Else
          1. Let _m_ be _temporalDate_.[[Month]].
        1. If _partialDate_.[[Day]] is not *undefined*, then
          1. Let _d_ be _partialDate_.[[Day]].
        1. Else
          1. Let _d_ be _temporalDate_.[[Day]].
        1. Let _result_ be ? RegulateDate(_y_, _m_, _d_, _disambiguation_).
        1. Assert: ! ValidateDate(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]]) is *true*.
        1. Return ? CreateTemporalDateFromInstance(_temporalDate_, _result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.difference">
      <h1>Temporal.Date.prototype.difference ( _other_ [ , _options_ ] )</h1>
      <p>
        The `difference` method takes two arguments, _other_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Perform ? RequireInternalSlot(_other_, [[InitializedTemporalDate]]).
        1. Let _largestUnit_ be ? ToLargestTemporalUnit(_options_, « *"hours"*, *"minutes"*, *"seconds"* », *"days"*).
        1. If ! CompareTemporalDate(_temporalDate_, _other_) &lt; 0, then
          1. Let _greater_ be _other_.
          1. Let _smaller_ be _temporalDate_.
        1. Else,
          1. Let _greater_ be _temporalDate_.
          1. Let _smaller_ be _other_.
        1. Let _result_ be ? DifferenceDate(_smaller_, _greater_, _largestUnit_).
        1. Return ? CreateTemporalDuration(_result_.[[Years]], _result_.[[Months]], _result_.[[Days]], 0, 0, 0, 0, 0, 0).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.withtime">
      <h1>Temporal.Date.prototype.withTime ( _temporalTime_ )</h1>
      <p>
        The `withTime` method takes one argument _temporalTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Perform ? RequireInternalSlot(_temporalTime_, [[InitializedTemporalTime]]).
        1. Return ? CreateTemporalDateTime(_temporalDate_.[[Year]], _temporalDate_.[[Month]], _temporalDate_.[[Day]],
          _temporalTime_.[[Hour]], _temporalTime_.[[Minute]], _temporalTime_.[[Second]],
          _temporalTime_.[[Millisecond]], _temporalTime_.[[Microsecond]], _temporalTime_.[[Nanosecond]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.tostring">
      <h1>Temporal.Date.prototype.toString ( )</h1>
      <p>
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! TemporalDateToString(_temporalDate_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.tolocalestring">
      <h1>Temporal.Date.prototype.toLocaleString ( [ _locales_ [ , _options_ ] ] )</h1>
      <p>
        The `toLocaleString` method takes two arguments, _locales_ and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. If the implementation does not include the ECMA-402 Internationalization API, then
          1. Return ! TemporalDateToString(_temporalDate_).
        1. Let _dateFormat_ be ? Construct(%DateTimeFormat%, « _locales_, _options_ »).
        1. Return ? FormatDateTime(_dateFormat_, _temporalDate_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.date.prototype.tojson">
      <h1>Temporal.Date.prototype.toJSON ( )</h1>
      <p>
        The following steps are taken:
      </p>
      <emu-alg>
        1. Let _temporalDate_ be the *this* value.
        1. Perform ? RequireInternalSlot(_temporalDate_, [[InitializedTemporalDate]]).
        1. Return ! TemporalDateToString(_temporalDate_).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-temporal-date-instances">
    <h1>Properties of Temporal.Date Instances</h1>
    <p>Temporal.Date instances are ordinary objects that inherit properties from the %Temporal.Date.prototype%.</p>
    <p>Temporal.Date instances have the following internal slots:
    <ul>
      <li>[[Year]], representing the year.</li>
      <li>[[Month]], representing the month within the year. It lies between 1 and 12, inclusive.</li>
      <li>[[Day]], representing the day within the month. It lies between 1 and DaysInMonth([[Year]], [[Month]]), inclusive.</li>
    </ul>
    <p>The value of each of these internal slots is a Number which is an integer.</p>
  </emu-clause>

  <emu-clause id="sec-temporal-date-abstract-ops">
    <h1>Abstract operations</h1>

    <emu-clause id="sec-temporal-createtemporaldate" aoid="CreateTemporalDate">
      <h1>CreateTemporalDate ( _y_, _m_, _d_ [ , _newTarget_ ] )</h1>
      <emu-alg>
        1. Perform ? RejectDate(_y_, _m_, _d_).
        1. If _newTarget_ is not given, set it to %Temporal.Date%.
        1. Let _object_ be ? OrdinaryCreateFromConstructor(_newTarget_, `"%Temporal.Date.prototype%"`, « [[InitializedTemporalDate]], [[Year]], [[Month]], [[Day]] »).
        1. Set _object_.[[Year]] to _y_.
        1. Set _object_.[[Month]] to _m_.
        1. Set _object_.[[Day]] to _d_.
        1. Return _object_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-createtemporaldatefrominstance" aoid="CreateTemporalDateFromInstance">
      <h1>CreateTemporalDateFromInstance ( _temporalDate_, _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: Type(_temporalDate_) is Object and _temporalDate_ has an [[InitializedTemporalDate]] internal slot.
        1. Assert: ! ValidateDate(_year_, _month_, _day_) is *true*.
        1. Let _constructor_ be ? SpeciesConstructor(_temporalDate_, %Temporal.Date%).
        1. Let _result_ be ? Construct(_constructor_, « _year_, _month_, _day_ »).
        1. Perform ? RequireInternalSlot(_result_, [[InitializedTemporalDate]]).
        1. Return _result_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-createtemporaldatefromstatic" aoid="CreateTemporalDateFromStatic">
      <h1>CreateTemporalDateFromStatic ( _constructor_, _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: ! ValidateDate(_year_, _month_, _day_) is *true*.
        1. If ! IsConstructor(_constructor_) is *false*, then
          1. Throw a *TypeError* exception.
        1. Let _result_ be ? Construct(_constructor_, « _year_, _month_, _day_ »).
        1. Perform ? RequireInternalSlot(_result_, [[InitializedTemporalDate]]).
        1. Return _result_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-parsetemporaldatestring" aoid="ParseTemporalDateString">
      <h1>ParseTemporalDateString ( _isoString_ )</h1>
      <emu-alg>
        1. Assert: Type(_isoString_) is String.
        1. Let _validSyntax_ be *true* if _isostring_ conforms to the format `YYYY-MM-DD`, and *false* otherwise, where:
          * `YYYY` is either four decimal digits or an expanded year of `"+"` or `"-"` followed by six decimal digits;
          * `-` is the code unit 0x002D (HYPHEN-MINUS);
          * `MM` is two decimal digits;
          * `-` is the code unit 0x002D (HYPHEN-MINUS);
          * `DD` is two decimal digits.
        1. If _validSyntax_ is *false*, then
          1. Throw a *RangeError* exception.
        1. Let _year_, _month_, and _day_ be the respective parts of _isostring_, interpreted as decimal numbers.
        1. Return the Record {
          [[Year]]: _year_,
          [[Month]]: _month_,
          [[Day]]: _day_
          }.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-differencedate" aoid="DifferenceDate">
      <h1>DifferenceDate ( _smaller_, _greater_, _largestUnit_ )</h1>
      <emu-alg>
        1. Assert: _largestUnit_ is one of `"years"`, `"months"`, `"days"`, `"hours"`, `"minutes"`, or `"seconds"`.
        1. If _largestUnit_ is not `"years"` or `"months"`,
          1. Set _largestUnit_ to `"days"`.
        1. Let _years_ be _greater_.[[Year]] &minus; _smaller_.[[Year]].
        1. If _largestUnit_ is `"days"`, then
          1. Let _days_ be ! ToDayOfYear(_greater_.[[Year]], _greater_.[[Month]], _greater_.[[Day]]) &minus; ! ToDayOfYear(_smaller_.[[Year]], _smaller_.[[Month]], _smaller_.[[Day]]).
          1. Assert: _years_ ≥ 0.
          1. Repeat, while _years_ &gt; 0
            1. Set _days_ to _days_ + ! DaysInYear(_smaller_.[[Year]] + _years_ &minus; 1).
            1. Set _years_ to _years_ &minus; 1.
          1. Return the Record {
            [[Years]]: 0,
            [[Months]]: 0,
            [[Days]]: _days_
          }.
        1. Let _months_ be _greater_.[[Month]] &minus; _smaller_.[[Month]].
        1. Let _balanceResult_ be ? BalanceDurationDate(_years_, _months_, _smaller_.[[Year]], _smaller_.[[Month]], _smaller_.[[Day]]).
        1. Set _years_ to _balanceResult_.[[Years]].
        1. Set _months_ to _balanceResult_.[[Months]].
        1. Let _days_ be ! ToDayOfYear(_greater_.[[Year]], _greater_.[[Month]], _greater_.[[Day]]) &minus; ! ToDayOfYear(_balanceResult_.[[Year]], _balanceResult_.[[Month]], _smaller_.[[Day]]).
        1. If _days_ &lt; 0, then
          1. Set _months_ to _months_ &minus; 1.
          1. Set _balanceResult_ to ? BalanceDurationDate(_years_, _months_, _smaller_.[[Year]], _smaller_.[[Month]], _smaller_.[[Day]]).
          1. Set _years_ to _balanceResult_.[[Years]].
          1. Set _months_ to _balanceResult_.[[Months]].
          1. Set _days_ to ! ToDayOfYear(_greater_.[[Year]], _greater_.[[Month]], _greater_.[[Day]]) &minus; ! ToDayOfYear(_balanceResult_.[[Year]], _balanceResult_.[[Month]], _smaller_.[[Day]]).
          1. If _greater_.[[Year]] > _balanceResult_.[[Year]], then
            1. Set _days_ to _days_ + ! DaysInYear(_balanceResult_.[[Year]]).
        1. If _largestUnit_ is `"months"`, then
          1. Set _months_ to _years_ &times; 12.
          1. Set _years_ to 0.
        1. Return the Record {
          [[Years]]: _years_,
          [[Months]]: _months_,
          [[Days]]: _days_
          }.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-totemporaldaterecord" aoid="ToTemporalDateRecord">
      <h1>ToTemporalDateRecord ( _temporalDateLike_ )</h1>
      <emu-alg>
        1. Assert: Type(_temporalDateLike_) is Object.
        1. If _temporalDateLike_ has an [[InitializedTemporalDate]] internal slot, then
          1. Return the Record {
              [[Hour]]: _temporalDateLike_.[[Hour]],
              [[Minute]]: _temporalDateLike_.[[Minute]],
              [[Second]]: _temporalDateLike_.[[Second]],
              [[Millisecond]]: _temporalDateLike_.[[Millisecond]],
              [[Microsecond]]: _temporalDateLike_.[[Microsecond]],
              [[Nanosecond]]: _temporalDateLike_.[[Nanosecond]]
            }.
        1. Let _result_ be a new Record with all the internal slots given in the Internal Slot column in <emu-xref href="#table-temporal-temporaldatelike-properties"></emu-xref>.
        1. For each row of <emu-xref href="#table-temporal-temporaldatelike-properties"></emu-xref>, except the header row, in table order, do
          1. Let _property_ be the Property value of the current row.
          1. Let _value_ be ? Get(_temporalDateLike_, _property_).
          1. If _value_ is *undefined*, then
            1. Throw a *TypeError* exception.
          1. Let _value_ be ? ToInteger(_value_).
          1. Set _result_'s internal slot whose name is the Internal Slot value of the current row to _value_.
        1. Return _result_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-topartialdate" aoid="ToPartialDate">
      <h1>ToPartialDate ( _temporalDateLike_ )</h1>
      <emu-alg>
        1. If Type(_temporalDateLike_) is not Object, then
          1. Throw a *TypeError* exception.
        1. Let _result_ be {
          [[Year]]: *undefined*,
          [[Month]]: *undefined*,
          [[Day]]: *undefined*
          }.
        1. Let _any_ be *false*.
        1. For each row of <emu-xref href="#table-temporal-temporaldatelike-properties"></emu-xref>, except the header row, in table order, do
          1. Let _property_ be the Property value of the current row.
          1. Let _value_ be ? Get(_temporalDateLike_, _property_).
          1. If _value_ is not *undefined*, then
            1. Set _any_ to *true*.
            1. Set _value_ to ? ToInteger(_value_).
            1. Set _result_'s internal slot whose name is the Internal Slot value of the current row to _value_.
        1. If _any_ is *false*, then
          1. Throw a *TypeError* exception.
        1. Return _result_.
      </emu-alg>

      <emu-table id="table-temporal-temporaldatelike-properties">
        <emu-caption>Properties of a TemporalDateLike</emu-caption>
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>[[Day]]</td>
              <td>`"day"`</td>
            </tr>
            <tr>
              <td>[[Month]]</td>
              <td>`"month"`</td>
            </tr>
            <tr>
              <td>[[Year]]</td>
              <td>`"year"`</td>
            </tr>
          </tbody>
        </table>
      </emu-table>
    </emu-clause>

    <emu-clause id="sec-temporal-regulatedate" aoid="RegulateDate">
      <h1>RegulateDate ( _year_, _month_, _day_, _disambiguation_ )</h1>
      <emu-alg>
        1. Assert: _disambiguation_ is one of `"constrain"`, `"balance"`, or `"reject"`.
        1. If _disambiguation_ is *"reject"*, then
          1. Perform ? RejectDate(_year_, _month_, _day_).
          1. Return the Record {
            [[Year]]: _year_,
            [[Month]]: _month_,
            [[Day]]: _day_
            }.
        1. If _disambiguation_ is *"constrain"*, then
          1. Return ! ConstrainDate(_year_, _month_, _day_).
        1. If _disambiguation_ is *"balance"*, then
          1. Let _result be ? BalanceDate(_year_, _month_, _day_).
          1. Perform ? RejectDate(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
          1. Return _result_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-validatedate" aoid="ValidateDate">
      <h1>ValidateDate ( _y_, _m_, _d_ )</h1>
      <emu-alg>
        1. Assert: _y_, _m_, and _d_ are integer Number values.
        1. NOTE: Deferring to ValidateDateTime with an hour of 12 avoids trouble at the extremes of the representable range of dates, which stop just before midnight on each end.
        1. Return ! ValidateDateTime(_y_, _m_, _d_, 12, 0, 0, 0, 0, 0).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-rejectdate" aoid="RejectDate">
      <h1>RejectDate ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: _year_, _month_, and _day_ are integer Number values.
        1. If ! ValidateDate(_year_, _month_, _day_) is *false*, then
          1. Throw a *RangeError* exception.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-constraindate" aoid="ConstrainDate">
      <h1>ConstrainDate ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: _year_, _month_, and _day_ are integer Number values.
        1. Let _yearMonth_ be ! ConstrainYearMonth(_year_, _month_).
        1. Set _day_ to ! ConstrainToRange(_day_, 1, ! DaysInMonth(_yearMonth_.[[Year]], _yearMonth_.[[Month]])).
        1. Return the Record {
          [[Year]]: _yearMonth_.[[Year]],
          [[Month]]: _yearMonth_.[[Month]],
          [[Day]]: _day_
          }.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-balancedate" aoid="BalanceDate">
      <h1>BalanceDate ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. If _day_ is *+&infin;* or *&minus;&infin;*, then
          1. Throw a *RangeError* exception.
        1. Let _balancedYearMonth_ be ? BalanceYearMonth(_year_, _month_).
        1. Let _month_ be _balancedYearMonth_.[[Month]].
        1. Let _year_ be _balancedYearMonth_.[[Year]].
        1. NOTE: To deal with negative numbers of days whose absolute value is greater than the number of days in a year, the following section subtracts years and adds days until the number of days is greater than &minus;366 or &minus;365.
        1. Let _daysInYear_ be 0.
        1. If _month_ &gt; 2, then
          1. Let _testYear_ be _year_.
        1. Else
          1. Let _testYear_ be _year_ &minus; 1.
        1. Repeat, while _day_ &lt; &minus;1 &times; ! DaysInYear(_testYear_)
          1. Set _day_ to _day_ + ! DaysInYear(_testYear_).
          1. Set _year_ to _year_ &minus; 1.
          1. Set _testYear_ to _testYear_ &minus; 1.
        1. NOTE: To deal with numbers of days greater than the number of days in a year, the following section adds years and subtracts days until the number of days is less than 366 or 365.
        1. Let _testYear_ be _year_ + 1.
        1. Repeat, while _day_ &gt; ! DaysInYear(_testYear_)
          1. Set _day_ to _day_ &minus; ! DaysInYear(_testYear_).
          1. Set _year_ to _year_ + 1.
          1. Set _testYear_ to _testYear_ + 1.
        1. NOTE: To deal with negative numbers of days whose absolute value greater than the number of days in the current month, the following section subtracts months and adds days until the number of days is greater than 0.
        1. Repeat, while _day_ &lt; 1
          1. Set _balancedYearMonth_ be ? BalanceYearMonth(_year_, _month_ &minus; 1).
          1. Set _year_ to _balancedYearMonth_.[[Year]].
          1. Set _month_ to _balancedYearMonth_.[[Month]].
          1. Set _day_ to _day_ + ! DaysInMonth(_year_, _month_).
        1. NOTE: To deal with numbers of days greater than the number of days in the current month, the following section adds months and subtracts days until the number of days is less than the number of days in the month.
        1. Repeat, while _day_ &gt; ! DaysInMonth(_year_, _month_)
          1. Set _day_ to _day_ &minus; ! DaysInMonth(_year_, _month_).
          1. Set _balancedYearMonth_ be ? BalanceYearMonth(_year_, _month_ + 1).
          1. Set _year_ to _balancedYearMonth_.[[Year]].
          1. Set _month_ to _balancedYearMonth_.[[Month]].
        1. Return the new Record {
          [[Year]]: _year_,
          [[Month]]: _month_,
          [[Day]]: _day_
          }.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-balancedurationdate" aoid="BalanceDurationDate">
      <h1>BalanceDurationDate ( _years_, _months_, _startYear_, _startMonth_, _startDay_ )</h1>
      <emu-alg>
        1. If _months_ &lt; 0, then
          1. Set _years_ to _years_ &minus; 1.
          1. Set _months_ to _months_ + 12.
        1. Let _balanceResult_ be ? BalanceYearMonth(_startYear_ + _years_, _startMonth_ + _months_).
        1. Repeat, while _startDay_ &gt; ! DaysInMonth(_balanceResult_.[[Year]], _balanceResult_.[[Month]])
          1. Set _months_ to _months_ &minus; 1.
          1. If _months_ &lt; 0, then
            1. Set _years_ to _years_ &minus; 1.
            1. Set _months_ to _months_ + 12.
          1. Set _balanceResult_ to ? BalanceYearMonth(_startYear_ + _years_, _startMonth_ + _months_).
        1. Return the new Record {
          [[Year]]: _balanceResult_.[[Year]],
          [[Month]]: _balanceResult_.[[Month]],
          [[Years]]: _years_,
          [[Months]]: _months_
          }.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-padyear" aoid="PadYear">
      <h1>PadYear ( _y_ )</h1>
      <emu-alg>
        1. Assert: _y_ is an integer Number value.
        1. If _y_ &gt; 999 and _y_ ≤ 9999, then
          1. Return _y_ formatted as a four-digit decimal number.
        1. If _y_ ≥ 0, let _yearSign_ be `"+"`; otherwise, let _yearSign_ be `"-"`.
        1. Let _year_ be abs(_y_), formatted as a six-digit decimal number, padded to the left with zeroes as necessary.
        1. Return the string-concatenation of _yearSign_ and _year_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-temporaldatetostring" aoid="TemporalDateToString">
      <h1>TemporalDateToString ( _temporalDate_ )</h1>
      <emu-alg>
        1. Assert: Type(_temporalDate_) is Object.
        1. Assert: _temporalDate_ has an [[InitializedTemporalDate]] internal slot.
        1. Let _year_ be ! PadYear(_temporalDate_.[[Year]]).
        1. Let _month_ be _temporalDate_.[[Month]] formatted as a two-digit decimal number, padded to the left with a zero if necessary.
        1. Let _day_ be _temporalDate_.[[Day]] formatted as a two-digit decimal number, padded to the left with a zero if necessary.
        1. Return the string-concatenation of _year_, the code unit 0x002D (HYPHEN-MINUS), _month_, the code unit 0x002D (HYPHEN-MINUS), and _day_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-adddate" aoid="AddDate">
      <h1>AddDate ( _year_, _month_, _day_, _years_, _months_, _days_, _disambiguation_ )</h1>
      <emu-alg>
        1. Assert: _year_, _month_, _day_, _years_, _months_, and _days_ are integer Number values.
        1. Assert: _disambiguation_ is one of `"constrain"`, `"balance"`, or `"reject"`.
        1. Let _y_ be _year_ + _years_.
        1. Let _m_ be _month_ + _months_.
        1. Let _intermediate_ be ? BalanceYearMonth(_y_, _m_).
        1. Let _intermediate_ be ? RegulateDate(_intermediate_.[[Year]], _intermediate_.[[Month]], _day_, _disambiguation_).
        1. Let _d_ be _intermediate_.[[Day]] + _days_.
        1. Let _intermediate_ be ? BalanceDate(_intermediate_.[[Year]], _intermediate_.[[Month]], _d_).
        1. Return ? RegulateDate(_intermediate_.[[Year]], _intermediate_.[[Month]], _intermediate_.[[Day]], _disambiguation_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-subtractdate" aoid="SubtractDate">
      <h1>SubtractDate ( _year_, _month_, _day_, _years_, _months_, _days_, _disambiguation_ )</h1>
      <emu-alg>
        1. Assert: _year_, _month_, _day_, _years_, _months_, and _days_ are integer Number values.
        1. Assert: _disambiguation_ is one of `"constrain"`, `"balance"`, or `"reject"`.
        1. Let _intermediate_ be ? BalanceDate(_year_, _month_, _day_ - _days_).
        1. Let _d_ be _intermediate_.[[Day]].
        1. Let _intermediate_ be ? BalanceYearMonth(_intermediate_.[[Year]] - _years_, _intermediate_.[[Month]] - _months_).
        1. Return ? RegulateDate(_intermediate_.[[Year]], _intermediate_.[[Month]], _d_, _disambiguation_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-comparetemporaldate" aoid="CompareTemporalDate">
      <h1>CompareTemporalDate ( _one_, _two_ )</h1>
      <emu-alg>
        1. Assert: Type(_one_) is Object.
        1. Assert: _one_ has an [[InitializedTemporalDate]] internal slot.
        1. Assert: Type(_two_) is Object.
        1. Assert: _two_ has an [[InitializedTemporalDate]] internal slot.
        1. If _one_.[[Year]] &gt; _two_.[[Year]], return 1.
        1. If _one_.[[Year]] &lt; _two_.[[Year]], return -1.
        1. If _one_.[[Month]] &gt; _two_.[[Month]], return 1.
        1. If _one_.[[Month]] &lt; _two_.[[Month]], return -1.
        1. If _one_.[[Day]] &gt; _two_.[[Day]], return 1.
        1. If _one_.[[Day]] &lt; _two_.[[Day]], return -1.
        1. Return +0.
      </emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
